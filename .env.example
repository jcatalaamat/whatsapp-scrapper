# WhatsApp Listener Environment Variables
# Copy this file to .env and fill in your actual values

# ===========================================
# SUPABASE (REQUIRED)
# ===========================================

# Supabase project URL
# Get from: Supabase Dashboard → Project Settings → API
SUPABASE_URL=https://your-project.supabase.co

# Supabase service role key (NOT the anon key!)
# Get from: Supabase Dashboard → Project Settings → API → service_role key
# This key has full database access - keep it secret!
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Supabase Storage bucket name for media uploads
# Default: whatsapp-media
# You need to create this bucket in Supabase Dashboard → Storage
SUPABASE_STORAGE_BUCKET=whatsapp-media

# ===========================================
# WHATSAPP (REQUIRED)
# ===========================================

# Comma-separated list of WhatsApp group names to monitor
# IMPORTANT: Names must match EXACTLY (case-sensitive)
# Example: WHATSAPP_GROUPS=Inner Ascend Tribe,BEYOND Community,Mazunte Connect
WHATSAPP_GROUPS=Group Name 1,Group Name 2,Group Name 3

# WhatsApp session identifier (optional, default: "default")
# Only change if you want to run multiple instances
WHATSAPP_SESSION_ID=default

# ===========================================
# FEATURES (OPTIONAL)
# ===========================================

# Enable keyword filtering
# If true, only messages containing FILTER_KEYWORDS will be captured
# Default: false (capture all messages)
ENABLE_KEYWORD_FILTER=false

# Comma-separated list of keywords to filter by
# Only used if ENABLE_KEYWORD_FILTER=true
# Example: FILTER_KEYWORDS=Offering,Service,Event,Retreat,Workshop
FILTER_KEYWORDS=Offering,Service,Event

# ===========================================
# DEPLOYMENT (OPTIONAL)
# ===========================================

# Node environment
# Options: development, production
NODE_ENV=production

# Port for health check server (optional)
# Default: 3000
PORT=3000

# Auto-run migrations on startup
# Set to true for Render deployment
# Default: false
RUN_MIGRATIONS=false

# ===========================================
# NOTES
# ===========================================

# 1. NEVER commit the .env file to Git (it's in .gitignore)
# 2. Use SUPABASE_SERVICE_KEY, not the anon key
# 3. Group names must match exactly as they appear in WhatsApp
# 4. Create the whatsapp-media bucket in Supabase before running
# 5. For Render deployment, set these as environment variables in Render dashboard
